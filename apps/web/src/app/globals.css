@tailwind base;
@tailwind components;
@tailwind utilities;

/* KaTeX Math Rendering Styles */
@import 'katex/dist/katex.min.css';

@layer base {
  :root {
    --background: 222 47% 6%;
    --foreground: 210 40% 96%;
    --card: 220 35% 12%;
    --card-foreground: 210 40% 96%;
    --popover: 220 35% 12%;
    --popover-foreground: 210 40% 96%;
    --primary: 164 70% 45%;
    --primary-foreground: 222 47% 6%;
    --secondary: 217 32% 18%;
    --secondary-foreground: 210 40% 96%;
    --muted: 215 25% 16%;
    --muted-foreground: 215 16% 70%;
    --accent: 187 67% 45%;
    --accent-foreground: 222 47% 8%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 222 47% 8%;
    --border: 217 28% 24%;
    --input: 217 28% 24%;
    --ring: 164 70% 45%;
    --chart-1: 160 70% 45%;
    --chart-2: 200 80% 50%;
    --chart-3: 40 90% 55%;
    --chart-4: 320 70% 55%;
    --chart-5: 220 70% 60%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 222 47% 6%;
    --foreground: 210 40% 96%;
    --card: 220 35% 12%;
    --card-foreground: 210 40% 96%;
    --popover: 220 35% 12%;
    --popover-foreground: 210 40% 96%;
    --primary: 164 70% 45%;
    --primary-foreground: 222 47% 6%;
    --secondary: 217 32% 18%;
    --secondary-foreground: 210 40% 96%;
    --muted: 215 25% 16%;
    --muted-foreground: 215 16% 70%;
    --accent: 187 67% 45%;
    --accent-foreground: 222 47% 8%;
    --destructive: 0 84% 60%;
    --destructive-foreground: 222 47% 8%;
    --border: 217 28% 24%;
    --input: 217 28% 24%;
    --ring: 164 70% 45%;
    --chart-1: 160 70% 45%;
    --chart-2: 200 80% 50%;
    --chart-3: 40 90% 55%;
    --chart-4: 320 70% 55%;
    --chart-5: 220 70% 60%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    background-color: hsl(var(--background));
    background-image: radial-gradient(circle at 15% 20%, rgba(16, 185, 129, 0.15), transparent 45%),
      radial-gradient(circle at 80% 10%, rgba(56, 189, 248, 0.18), transparent 40%),
      radial-gradient(circle at 20% 80%, rgba(147, 197, 253, 0.1), transparent 45%);
    background-attachment: fixed;
  }

  .bg-white,
  .bg-gray-50,
  .bg-gray-100 {
    background-color: hsl(var(--card)) !important;
    color: hsl(var(--card-foreground));
  }

  .border-gray-200,
  .border-gray-100,
  .border-blue-100 {
    border-color: hsl(var(--border)) !important;
  }

  .text-gray-900 {
    color: hsl(var(--foreground)) !important;
  }

  .text-gray-800,
  .text-gray-700,
  .text-gray-600,
  .text-gray-500 {
    color: hsl(var(--muted-foreground)) !important;
  }

  .bg-blue-50,
  .bg-blue-100 {
    background-color: rgba(16, 185, 129, 0.15) !important;
  }

  .text-blue-600,
  .text-blue-500 {
    color: hsl(var(--primary)) !important;
  }

  .hover\\:bg-gray-50:hover,
  .hover\\:bg-gray-100:hover {
    background-color: rgba(148, 163, 184, 0.1) !important;
  }
}

/* 3D Transform Utilities */
@layer utilities {
  .perspective-1000 {
    perspective: 1000px;
  }

  .preserve-3d {
    transform-style: preserve-3d;
  }

  .backface-hidden {
    backface-visibility: hidden;
  }

  .transform-style-preserve-3d {
    transform-style: preserve-3d;
  }
}

/* Custom Math Rendering Styles */
@layer components {
  .katex-container {
    @apply text-gray-900;
  }

  .katex-display-block {
    @apply my-4 text-center;
  }

  .katex-inline {
    @apply inline;
  }

  .katex-display {
    @apply block my-4 text-center overflow-x-auto;
  }

  .math-text {
    @apply leading-relaxed;
  }

  .math-text .katex-display-block {
    @apply my-6;
  }

  .problem-content .katex {
    font-size: 1.1em;
  }

  .problem-solution .katex {
    font-size: 1.05em;
  }
}
